<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {%block title%}{%endblock%}
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Include Toastify CSS from CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">

<!-- Include Toastify JavaScript from CDN -->
<script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

    <!-- Include Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<link rel="stylesheet" href="{{url_for('static',filename='css/style.css')}}">

</head>
<body>
    <button class="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </button>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <!-- Sidebar content goes here -->
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <img src="{{ url_for('static', filename='asset/logo.png') }}" alt="Example Image" width="200" height="200">
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="{{url_for('dashboard')}}">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{url_for('model')}}">models</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{url_for('users')}}">Users</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{url_for('location')}}">Location</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{url_for('samples')}}">Samples</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{url_for('report')}}">Report</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" style="padding-right: 12px; padding-top: 80px;">Logout</a>
                    </li>
                    <!-- Add more sidebar items as needed -->
                </ul>
            </div>
            
        </div>
    </div>
    
{% block content%}
{% endblock %}
    <!-- Include Bootstrap JS (optional) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
     <!-- Bootstrap JS scripts (make sure to include jQuery and Popper.js as well) -->
     <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
       <!-- Include jQuery (required by Bootstrap) -->
    <!-- Include Highcharts JS -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.3.0/mdb.min.js"
></script>
    <script>
Highcharts.chart('location-chart', {
        chart: {
            type: 'pie', // Change chart type to pie
            options3d: {
                enabled: true,
                alpha: 45
            }
        },
        title: {
            text: 'Location Data'
        },
        plotOptions: {
            pie: {
                innerSize: '50%', // Adjust innerSize to create a donut shape
                depth: 45,
                dataLabels: {
                    enabled: false
                },
                size: '100%', // Increase the size to make the chart take up the entire container
                center: ['50%', '50%'], // Center the chart within its container
                slicedOffset: 20 // Set a sliced offset to create a broken effect
            }
        },
        series: [{
            name: 'Population',
            data: [
                ['New York', 8491079],
                ['Los Angeles', 3990456],
                ['Chicago', 2705994],
                ['Houston', 2320268],
                ['Phoenix', 1680992]
            ],
            colors: ['#7cb5ec', '#434348', '#90ed7d', '#f7a35c', '#8085e9'] // Specify colors for each segment
        }]
    });
    // Set the timeout duration (5 minutes in milliseconds)
const timeoutDuration = 5 * 60 * 1000; // 5 minutes

let timeoutId;

// Reset the session timeout whenever there is user activity
function resetSessionTimeout() {
    clearTimeout(timeoutId);
    timeoutId = setTimeout(logoutAndRedirect, timeoutDuration);
}

// Function to logout the user and redirect to the login page
function logoutAndRedirect() {
    window.location.href = "/logout"; // Replace "/logout" with the logout URL in your application
}

// Attach event listeners to track user activity
document.addEventListener("mousemove", resetSessionTimeout);
document.addEventListener("keypress", resetSessionTimeout);

// Initialize the session timeout
resetSessionTimeout();

document.getElementById('togglePassword').addEventListener('click', function() {
            var passwordInput = document.getElementById('password');
            var passwordFieldType = passwordInput.getAttribute('type');
            if (passwordFieldType === 'password') {
                passwordInput.setAttribute('type', 'text');
                this.textContent = 'Hide';
            } else {
                passwordInput.setAttribute('type', 'password');
                this.textContent = 'Show';
            }
        });

document.getElementById('addUserButton').addEventListener('click', function(event) {
        // Prevent the default form submission behavior
        event.preventDefault();

        // Trigger the success message
        showSuccessMessage();

        // Manually submit the form
        document.getElementById('addUserForm').submit();
    });

    function showSuccessMessage() {
        Swal.fire({
            title: 'Good job!',
            text: 'User added successfully!',
            icon: 'success',
            confirmButtonText: 'OK'
        });
    }
    document.addEventListener('DOMContentLoaded', function () {
    const hamburger = document.querySelector('.hamburger');
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');

    // Add event listener to hamburger menu button
    hamburger.addEventListener('click', function () {
        // Toggle active class on hamburger menu button
        this.classList.toggle('active');
        
        // Toggle display of the sidebar
        sidebar.classList.toggle('active');
        
        // Toggle margin-left of main content to adjust for sidebar visibility
        mainContent.classList.toggle('active');
    });
});

    </script>
    
</body>
</html>
